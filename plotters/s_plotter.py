import matplotlib.pyplot as plt
import matplotlib.backends.backend_pdf

x_labels = ["Naive", "140", "160", "180", "200", "CommApprox"]

titles = ["0.85", "1.00", "1,15", "1.30", "1.45", "1.60", "1.80", "2.00"]

ys_u = [[7.30890, 7.40927, 7.50426, 7.38379, 7.48512, 7.47062],
        [7.30497, 7.37746, 7.53016, 7.38144, 7.51461, 7.46212],
        [7.27818, 7.38688, 7.56610, 7.35295, 7.57171, 7.56259],
        [7.32966, 7.35463, 7.57227, 7.37604, 7.57598, 7.47517],
        [7.32319, 7.40854, 7.49107, 7.40461, 7.43899, 7.44183],
        [7.33391, 7.39304, 7.54361, 7.40808, 7.51473, 7.50335],
        [7.26352, 7.38146, 7.54880, 7.42854, 7.40866, 7.48692],
        [7.33040, 7.39870, 7.50517, 7.39843, 7.56479, 7.51272]]

ys = [[7.61335, 7.62297, 7.61844, 7.64766, 7.55501, 7.6307],
      [7.31369, 7.27007, 7.43645, 7.40581, 7.5949, 7.44975],
      [7.04601, 7.08028, 7.06441, 7.04047, 6.89166, 7.05233],
      [6.60037, 6.38522, 6.61032, 6.4417, 6.63514, 6.68802],
      [5.98043, 6.08057, 6.03476, 5.97048, 6.01325, 6.08733],
      [5.69328, 5.5969, 5.8285, 5.86887, 5.96227, 4.9955],
      [4.99085, 4.99969, 4.95914, 5.09307, 5.01699, 5.15528],
      [4.47562, 4.73946, 4.65822, 4.0189, 4.56879, 4.6314]]

ys_run_2 = [[7.63796, 7.6678, 7.63303, 7.63330, 7.58404, 7.71602],
            [7.22938, 7.36974, 7.4692, 7.28155, 7.48509, 7.45489],
            [6.92653, 7.03931, 7.03259, 6.93917, 6.93735, 6.9818],
            [6.63686, 6.41968, 6.55445, 6.61146, 6.50357, 6.6804],
            [6.11480, 6.00893, 6.08107, 5.8174, 5.93941, 5.99242],
            [5.58326, 5.57013, 5.83045, 5.74368, 5.81835, 4.98132],
            [4.9446, 5.01172, 4.94261, 5.011, 4.83639, 5.05316],
            [4.47385, 4.53129, 4.60291, 3.9655, 4.50941, 4.56386]]


def plot_bar(name, dataset):
    with matplotlib.backends.backend_pdf.PdfPages(name) as pdf:
        for i in range(len(dataset)):
            title = titles[i]
            y_cors = dataset[i]
            # ymin = min(ys[i])
            # ymax = max(ys[i])
            plt.figure()
            plt.title(title)
            #plt.ylim(ymin=0, ymax=8.0)
            plt.bar(x_labels, y_cors)
            pdf.savefig()


plot_bar("run2.pdf", ys)

plot_bar("run1.pdf", ys_run_2)

x_cors = [1, 2, 4, 6]
titles = ["1", "2", "4", "6"]

ys_exp_naive_cpu = [1320.32, 689.408, 355.328, 239.835]

ys_exp_cluster_cpu = [1326.98, 678.465, 352.648, 238.986]

ys_exp_commapprox_cpu = [1314.89, 701.561, 354.716, 232.959]


def plot_lines(name, dataset, labels, s, title):
    with matplotlib.backends.backend_pdf.PdfPages(name) as pdf:
        plt.figure()
        plt.title(title)
        for i in range(s):
            #title = titles[i]
            y_cors = dataset[i]
            # ymin = min(ys[i])
            # ymax = max(ys[i])
            label = labels[i]
            plt.plot(x_cors, y_cors, label=label)
        plt.legend()
        pdf.savefig()


labels_exp = ["exp_naive", "exp_cluster", "exp_commaprrox"]
_y = [ys_exp_naive_cpu, ys_exp_cluster_cpu, ys_exp_commapprox_cpu]

plot_lines("cpu_run_1.pdf", _y, labels_exp, 3,
           "exp with different communication strategies")


x_labels = ["Naive", "140", "160", "180", "200", "CommApprox"]

titles = ["0.80", "0.85", "1.00", "1,15", "1.30", "1.45", "1.60", "1.80", "2.00", "2.15", "2.30", "2.45", "2.60",
          "2.80", "3.00", "3.15", "3.30", "3.45", "3.60", "3.85", "4.00"]


def plot_bar_2(name, dataset):
    with matplotlib.backends.backend_pdf.PdfPages(name) as pdf:
        for i in range(len(dataset)):
            title = titles[i]
            y_cors = dataset[i]
            # ymin = min(ys[i])
            # ymax = max(ys[i])
            plt.figure()
            plt.title(title)
            #plt.ylim(ymin=0, ymax=8.0)
            plt.bar(x_labels, y_cors)
            pdf.savefig()


_y = [[662.425, 659.886, 627.469, 644.871, 654.167, 652.815], [238.144, 239.377, 239.536, 239.412, 241.088, 236.296], [130.534, 129.777, 126.586, 127.975, 125.32, 127.328], [81.2529, 81.4789, 80.9366, 82.5499, 82.452, 81.9477], [52.477, 55.9023, 53.5214, 53.1414, 54.4972, 52.2927], [37.0344, 37.1077, 37.1415, 37.1838, 36.8376, 36.5075], [27.8484, 27.5029, 26.9978, 26.6783, 27.5839, 31.7117], [17.6294, 17.8494, 17.6283, 17.5336, 17.9712, 17.3024], [14.3504, 13.9737, 14.485, 16.1083, 14.2934, 14.0139], [11.3877, 13.2734, 11.4591, 11.5332, 11.2207, 11.3978], [9.85901, 9.90718, 9.59278,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   9.57612, 10.7044, 9.46285], [8.21692, 8.28738, 8.24979, 7.95279, 8.3619, 8.18491], [7.44505, 7.50893, 7.51956, 7.11793, 7.17095, 7.11562], [5.93191, 6.16881, 5.7946, 5.59206, 5.81317, 5.73894], [5.07161, 4.52046, 4.8869, 4.89782, 4.97796, 5.00857], [4.79802, 4.62972, 4.63519, 4.5344, 4.35885, 4.61826], [4.44871, 3.97313, 4.24088, 4.18344, 4.06537, 4.12218], [3.88225, 3.73985, 3.65732, 3.84266, 3.49054, 3.85828], [3.43609, 3.52504, 3.40263, 3.25848, 3.10391, 3.62041], [3.0654, 3.13292, 2.84649, 3.0189, 3.03799, 2.96552], [2.76794, 2.6739, 2.87275, 2.6404, 2.81697, 2.88021]]

_y2 = [[667.726, 507.57, 666.085, 672.768, 321.134, 529.07], [239.245, 240.167, 239.447, 240.842, 237.221, 244.668], [128.222, 129.754, 128.727, 127.464, 129.324, 125.057], [82.0338, 82.1039, 81.9073, 80.9444, 82.1258, 80.6264], [53.5899, 53.3479, 52.4647, 52.8429, 53.3399, 53.8704], [35.9699, 37.6494, 36.5198, 38.3469, 36.6009, 36.1082], [26.6638, 27.9257, 27.3851, 27.822, 27.1608, 26.682], [17.3872, 17.5422, 17.3279, 18.2187, 17.1191, 17.3317], [14.3846, 14.0536, 14.1849, 14.2502, 13.9569, 14.0443], [11.4379, 11.0044, 11.5981,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            11.3982, 11.384, 11.6668], [9.96107, 9.71027, 9.56136, 9.61311, 9.98997, 9.68944], [0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0], [5.34723, 4.98148, 5.07125, 4.98053, 4.81208, 4.97352], [4.99668, 4.78922, 4.65515, 4.61989, 4.89942, 4.57585], [4.3153, 4.44234, 4.53058, 4.30302, 4.71782, 4.19635], [4.04746, 4.09549, 3.76538, 4.09325, 4.02611, 3.9049], [3.64914, 3.48803, 3.64706, 3.73321, 3.58553, 3.40078], [3.06653, 3.11827, 3.05981, 3.12536, 3.18619, 3.3046], [2.947, 3.06442, 3.07681, 2.81417, 3.02746, 3.04935]]

plot_bar_2("more_combinations.pdf", _y)

plot_bar_2("more_combinations_2.pdf", _y2)
